import scrapy

class KartSpider(scrapy.Spider):
    name = "kart"
    start_urls= [
  "https://tillotson.ie/shop/rk-99hl-repair-kit/",
  "https://tillotson.ie/shop/hs-294a-carburetor/",
  "https://tillotson.ie/shop/rk-15hu-repair-kit/",
  "https://tillotson.ie/shop/hs-228c/",
  "https://tillotson.ie/shop/44-270x-o-rings/",
  "https://tillotson.ie/shop/dg-3hw-diaphragm-gasket-set/",
  "https://tillotson.ie/shop/rk-10hw-repair-kit/",
  "https://tillotson.ie/shop/rk-11hu-repair-kit/",
  "https://tillotson.ie/shop/rk-8hw-repair-kit/",
  "https://tillotson.ie/shop/tpp7500dfa-generator/",
  "https://tillotson.ie/shop/tpp75000ga-generator/",
  "https://tillotson.ie/shop/rk-126hl-repair-kit/",
  "https://tillotson.ie/shop/dg-6hu-diaphragm-gasket-set/",
  "https://tillotson.ie/shop/rk-1ht-repair-kit/",
  "https://tillotson.ie/shop/237-144x-fuel-pump-diaphragm-hs/",
  "https://tillotson.ie/shop/rk26hs-repair-kit/",
  "https://tillotson.ie/shop/hb-14a-carburetor/",
  "https://tillotson.ie/shop/hb-12a-carburetor-copy/",
  "https://tillotson.ie/shop/hb-10a-carburetor/",
  "https://tillotson.ie/shop/hc-117a/",
  "https://tillotson.ie/shop/hc-112a-carburetor/",
  "https://tillotson.ie/shop/hc-116a/",
  "https://tillotson.ie/shop/hc103a-carburetor-kf3/",
  "https://tillotson.ie/shop/hc102a-carburetor/",
  "https://tillotson.ie/shop/hl-304-carburetor/",
  "https://tillotson.ie/shop/hl-360b-carburetor/",
  "https://tillotson.ie/shop/hl-395a-carburetor/",
  "https://tillotson.ie/shop/hl-394a-carburetor/",
  "https://tillotson.ie/shop/hl-304wx-carburetor/",
  "https://tillotson.ie/shop/hl-398a-carburetor/",
  "https://tillotson.ie/shop/hl-334-carburetor/",
  "https://tillotson.ie/shop/hl384a-carburetor/",
  "https://tillotson.ie/shop/hl334ab-carburetor-2/",
  "https://tillotson.ie/shop/hm2a-rotax-carburetor/",
  "https://tillotson.ie/shop/hs-319a-carburetor/",
  "https://tillotson.ie/shop/hs-205a-carburetor/",
  "https://tillotson.ie/shop/hw-43a-cnc-carburetor/",
  "https://tillotson.ie/shop/hw-32a-carburetor/",
  "https://tillotson.ie/shop/hw-16a-carburetor/",
  "https://tillotson.ie/shop/hw-33a-carburetor/",
  "https://tillotson.ie/shop/hw-43a-carburetor/",
  "https://tillotson.ie/shop/hw-30a-carburetor/",
  "https://tillotson.ie/shop/hw10a-avenger-carburetor/",
  "https://tillotson.ie/shop/hw-27a-carburetor/",
  "https://tillotson.ie/shop/hw-24a-carburetor/",
  "https://tillotson.ie/shop/hw11a-avenger-carburetor/",
  "https://tillotson.ie/shop/hw12a-avenger-carburetor/",
  "https://tillotson.ie/shop/hw-11b-avenger-carburetor/",
  "https://tillotson.ie/shop/hw31a-iame-mini-swift-carburetor/",
  "https://tillotson.ie/shop/hw23a-carburetor-kf3/",
  "https://tillotson.ie/shop/hx-12a-carburetor/",
  "https://tillotson.ie/shop/pvl-684110/",
  "https://tillotson.ie/shop/pvl-684900/",
  "https://tillotson.ie/shop/pvl-684100/",
  "https://tillotson.ie/shop/pvl-660902/",
  "https://tillotson.ie/shop/pvl-540819-500945/",
  "https://tillotson.ie/shop/pvl-ignition-coil-660800/",
  "https://tillotson.ie/shop/pvl-660100-ignition-coil/",
  "https://tillotson.ie/shop/tpp-196r-cadet-clone-racing-engine-horizontal/",
  "https://tillotson.ie/shop/tpp-212e-electric-start-horizontal-engine/",
  "https://tillotson.ie/shop/tpp-212ee-electric-start-horizontal-engine/",
  "https://tillotson.ie/shop/tpp-196r-vertical-clone-racing-engine/",
  "https://tillotson.ie/shop/hu-137b/",
  "https://tillotson.ie/shop/hu-132a/",
  "https://tillotson.ie/shop/hu133a-carburetor/",
  "https://tillotson.ie/shop/hu131a-carburetor/",
  "https://tillotson.ie/shop/hu132a-carburetor/",
  "https://tillotson.ie/shop/hu123a-carburetor/",
  "https://tillotson.ie/shop/pvl-401222/",
  "https://tillotson.ie/shop/pvl-500955/",
  "https://tillotson.ie/shop/pvl-500881-036ig27-ignition-coil/",
  "https://tillotson.ie/shop/pvl-540819-stator-500945-rotor/",
  "https://tillotson.ie/shop/pvl-458118-105458/",
  "https://tillotson.ie/shop/pvl-360100/",
  "https://tillotson.ie/shop/pvl-458115-ignition-coil/",
  "https://tillotson.ie/shop/pvl-451101-ignition-coil/",
  "https://tillotson.ie/shop/16b217x-pack-of-10/",
  "https://tillotson.ie/shop/inlet-tension-spring-46g-10-pack/",
  "https://tillotson.ie/shop/4310360-high-adjustment-screw-jet/",
  "https://tillotson.ie/shop/431035-low-adjustment-screw-jet/",
  "https://tillotson.ie/shop/racing-pack-components/",
  "https://tillotson.ie/shop/rk1hm-repair-kit/",
  "https://tillotson.ie/shop/rk4hw-repair-kit/",
  "https://tillotson.ie/shop/repairkit-rk-90hl/",
  "https://tillotson.ie/shop/hc-115a/",
  "https://tillotson.ie/shop/he-6a-carburetor/",
  "https://tillotson.ie/shop/he-1a/",
  "https://tillotson.ie/shop/he-9c/",
  "https://tillotson.ie/shop/he-23a-carburetor/",
  "https://tillotson.ie/shop/he18a-carburetor/",
  "https://tillotson.ie/shop/hl-166c-carburetor/",
  "https://tillotson.ie/shop/hl324a-carburettor/",
  "https://tillotson.ie/shop/hs60d-carburetor/",
  "https://tillotson.ie/shop/hs284f-carburetor/",
  "https://tillotson.ie/shop/hs282a-carburetor/",
  "https://tillotson.ie/shop/hs320a-carburetor/",
  "https://tillotson.ie/shop/hs-278g-carburetor/",
  "https://tillotson.ie/shop/hs254b-carburetor/",
  "https://tillotson.ie/shop/hw-36a/",
  "https://tillotson.ie/shop/hw-38a/",
  "https://tillotson.ie/shop/hw-38a/",
  "https://tillotson.ie/shop/16b389x-bowl-nut-gasket/",
  "https://tillotson.ie/shop/233710p-inlet-parts-kit/",
  "https://tillotson.ie/shop/49a486-jet/",
  "https://tillotson.ie/shop/dg11hu-diaphragm-gasket-set/",
  "https://tillotson.ie/shop/dg10hu-diaphragm-gasket-set/",
  "https://tillotson.ie/shop/dg10hs-diaphragm-gasket-set/",
  "https://tillotson.ie/shop/7hs-diaphragm-gasket-set/",
  "https://tillotson.ie/shop/dg2hu-diaphragm-gasket-set/",
  "https://tillotson.ie/shop/dg3hu-diaphragm-gasket-set/",
  "https://tillotson.ie/shop/dg4hu-diaphragm-gasket-set/",
  "https://tillotson.ie/shop/dg4hl-diaphragm-gasket-set/",
  "https://tillotson.ie/shop/dg2he-diaphragm-gasket-set/",
  "https://tillotson.ie/shop/dg3hst-diaphragm-gasket-set/",
  "https://tillotson.ie/shop/fc11e1a-carburetor/",
  "https://tillotson.ie/shop/rk-1tf-repair-kit/",
  "https://tillotson.ie/shop/rk-17hs-repair-kit/",
  "https://tillotson.ie/shop/rk-107hl-repair-kit/",
  "https://tillotson.ie/shop/rk-106hl/",
  "https://tillotson.ie/shop/rk-105hl-repair-kit/",
  "https://tillotson.ie/shop/rk102hl-repair-kit/",
  "https://tillotson.ie/shop/rk18hs-repair-kit/",
  "https://tillotson.ie/shop/rk123hl-repair-kit/",
  "https://tillotson.ie/shop/rk2he-repair-kit/",
  "https://tillotson.ie/shop/rk22hu-repair-kit/",
  "https://tillotson.ie/shop/rk-37hk-2/",
  "https://tillotson.ie/shop/rk-36hk-2/",
  "https://tillotson.ie/shop/rk-34hk/",
  "https://tillotson.ie/shop/rk-35hk-2/",
  "https://tillotson.ie/shop/rk-32hk-2/",
  "https://tillotson.ie/shop/rk-33hk/",
  "https://tillotson.ie/shop/rk3he-repair-kit/",
  "https://tillotson.ie/shop/rk30hu-repair-kit/",
  "https://tillotson.ie/shop/rk31hu-repair-kit/",
  "https://tillotson.ie/shop/rk-86hl-2/",
  "https://tillotson.ie/shop/tf-1a-6u/",
  "https://tillotson.ie/shop/tf-1a-6d/",
  "https://tillotson.ie/shop/tf-2a-6b/",
  "https://tillotson.ie/shop/tf-2a-6u/",
  "https://tillotson.ie/shop/tpp-140v-vertical-lawn-mower-engine/",
  "https://tillotson.ie/shop/tpp-v196-vertical-engine/",
  "https://tillotson.ie/shop/tpp-173v-vertical-lawn-mower-engine-copy/",
  "https://tillotson.ie/shop/tpp-212ce-horizontal-engine/",
  "https://tillotson.ie/shop/bypass-tube-and-plug-for-ho-carburetors/",
  "https://tillotson.ie/shop/tc790-2000cc-carburetor/",
  "https://tillotson.ie/shop/wb559-1200cc-carburetor/",
  "https://tillotson.ie/shop/fo250cc-carburetor/",
  "https://tillotson.ie/shop/ho250cc-carburetor/",
  "https://tillotson.ie/shop/r1-rear-brake-pad-blue-1-piece/",
  "https://tillotson.ie/shop/t4-world-cup-t-shirt/",
  "https://tillotson.ie/shop/dg-50hd/",
  "https://tillotson.ie/shop/rk-51hd/",
  "https://tillotson.ie/shop/hd-acceleration-pump/",
  "https://tillotson.ie/shop/rk-50hd/",
  "https://tillotson.ie/shop/t4-engine-oil/",
  "https://tillotson.ie/shop/tpp4500ga-generator/",
  "https://tillotson.ie/shop/tillotson-t4-tool-box/",
  "https://tillotson.ie/shop/x30-engine/",
  "https://tillotson.ie/shop/13b215-throttle-shaft/",
  "https://tillotson.ie/shop/tpp4500dfa-generator/",
  "https://tillotson.ie/shop/hs277a-carburetor/",
  "https://tillotson.ie/shop/hl232f-carburetor/",
  "https://tillotson.ie/shop/ht-9a-carburetor/",
  "https://tillotson.ie/shop/24-b345x-inlet-tension-spring-47g-10-pack/",
  "https://tillotson.ie/shop/131894-throttle-shaft/",
  "https://tillotson.ie/shop/15c51-cover-screw/",
  "https://tillotson.ie/shop/hl166b-carburetor/",
  "https://tillotson.ie/shop/t4-world-cup-official-t-shirt-2022/",
  "https://tillotson.ie/shop/t4-t-shirt-2/",
  "https://tillotson.ie/shop/t4-kart-cover/",
  "https://tillotson.ie/shop/t4-winter-jacket/",
  "https://tillotson.ie/shop/tillotson-race-suit/",
  "https://tillotson.ie/shop/t4-race-suit/",
  "https://tillotson.ie/shop/t4-series-kart-package/",
  "https://tillotson.ie/shop/tpp-225rs-t4-racing-engine-sealed-engine/",
  "https://tillotson.ie/shop/komet-k1h-tyres/",
  "https://tillotson.ie/shop/tillotson-t4-bag/",
  "https://tillotson.ie/shop/243-506p-leak-tester-connector/",
  "https://tillotson.ie/shop/sa502-dual-precision-jet/",
  "https://tillotson.ie/shop/sa501-precision-jet/",
  "https://tillotson.ie/shop/repairhl-298a/",
  "https://tillotson.ie/shop/12-1226-throttle-lever/",
  "https://tillotson.ie/shop/dg8hs-diaphragm-gasket-set/",
  "https://tillotson.ie/shop/233-712-p/",
  "https://tillotson.ie/shop/tillotson-racing-wool-hat/",
  "https://tillotson.ie/shop/rk-34hs-repair-kit/",
  "https://tillotson.ie/shop/16b392x-pack-of-10/",
  "https://tillotson.ie/shop/hl334ab-carburetor/",
  "https://tillotson.ie/shop/pk-1a/",
  "https://tillotson.ie/shop/hu-40d-carburetor/",
  "https://tillotson.ie/shop/dg5hst-diaphragm-gasket-set/",
  "https://tillotson.ie/shop/tillotson-drink-bottle/",
  "https://tillotson.ie/shop/rk-97hl-repair-kit/",
  "https://tillotson.ie/shop/179-57x-welch-plug/",
  "https://tillotson.ie/shop/17963-welch-plug/",
  "https://tillotson.ie/shop/179-59x-welch-plug/",
  "https://tillotson.ie/shop/t4-zip-top-2/",
  "https://tillotson.ie/shop/hs279d-carburetor/",
  "https://tillotson.ie/shop/diaphragm-gasket-set-dg-1hk/",
  "https://tillotson.ie/shop/high-speed-fuel-jet-0-71mm/",
  "https://tillotson.ie/shop/hm1-unlimited-all-stars-jr-drag-carburetor/",
  "https://tillotson.ie/shop/diaphragm-gasket-set-dg-5hl/",
  "https://tillotson.ie/shop/rk-6hw-repair-kit/",
  "https://tillotson.ie/shop/hl304f-carburetor/",
  "https://tillotson.ie/shop/t4-polo-shirt/",
  "https://tillotson.ie/shop/rk-1he-repair-kit/",
  "https://tillotson.ie/shop/237223x-fuel-pump-diaphragm/",
  "https://tillotson.ie/shop/16b408-pack-of-10-1mm-hw-metering-diaphragm/",
  "https://tillotson.ie/shop/24b299x-inlet-tension-spring/",
  "https://tillotson.ie/shop/repairkit-rk-28hs/",
  "https://tillotson.ie/shop/go-faster-race-sock/",
  "https://tillotson.ie/shop/dg2hst-diaphragm-gasket-set/",
  "https://tillotson.ie/shop/24c298x-inlet-tension-spring/",
  "https://tillotson.ie/shop/hs260a-carburetor/",
  "https://tillotson.ie/shop/rk18hu-repair-kit/",
  "https://tillotson.ie/shop/rk-23hu-repair-kit/",
  "https://tillotson.ie/shop/rk-20hu-repair-kit/",
  "https://tillotson.ie/shop/rk31hs/",
  "https://tillotson.ie/shop/komet-k2h-tyres/",
  "https://tillotson.ie/shop/senior-junior-t4-dry-tyre/",
  "https://tillotson.ie/shop/komet-k1w-tyres/",
  "https://tillotson.ie/shop/tillotson-maxxis-t4-wet-tyres/",
  "https://tillotson.ie/shop/rk21hu-repair-kit/",
  "https://tillotson.ie/shop/26b388x-bowl-gasket/",
  "https://tillotson.ie/shop/ow497-intank-filter/",
  "https://tillotson.ie/shop/rk35hs-repair-kit/",
  "https://tillotson.ie/shop/hu-136a/",
  "https://tillotson.ie/shop/431010-low-adjustment-screw-jet/",
  "https://tillotson.ie/shop/431030-high-adjustment-screw-jet/",
  "https://tillotson.ie/shop/tillotson-maxxis-t4-wet-tyre/",
  "https://tillotson.ie/shop/dg2hw-diaphragm-gasket-set/",
  "https://tillotson.ie/shop/rk116hl-repair-kit/",
  "https://tillotson.ie/shop/rk113hl-repair-kit/",
  "https://tillotson.ie/shop/rk3hw-repair-kit/",
  "https://tillotson.ie/shop/rk1hw-repair-kit/",
  "https://tillotson.ie/shop/24c296x-inlet-tension-spring-31g-10-pack/",
  "https://tillotson.ie/shop/rk2hw-repair-kit/",
  "https://tillotson.ie/shop/tillotson-race-line-polo-shirt/",
  "https://tillotson.ie/shop/tidl-sport-cryotherapy-deal/",
  "https://tillotson.ie/shop/rk103hlhr-repair-kit/",
  "https://tillotson.ie/shop/hl360a-carburetor/",
  "https://tillotson.ie/shop/dg2hl-diaphragm-gasket-set/",
  "https://tillotson.ie/shop/91a251-fuel-strainer-cover/",
  "https://tillotson.ie/shop/rk-84hl-repair-kit/",
  "https://tillotson.ie/shop/rk29hs-repair-kit/",
  "https://tillotson.ie/shop/hl-385a-carburetor/",
  "https://tillotson.ie/shop/hl384b-carburetor/",
  "https://tillotson.ie/shop/hl352a-carburetor/",
  "https://tillotson.ie/shop/t4-mag-rims-by-dwt/",
  "https://tillotson.ie/shop/91a351-fuel-strainer-cover/",
  "https://tillotson.ie/shop/121218-quick-release-throttle-lever-hw-carburettors/",
  "https://tillotson.ie/shop/15c52-throttle-lever-screw/",
  "https://tillotson.ie/shop/rk32hs-repair-kit/",
  "https://tillotson.ie/shop/repairkit-rk-114hl/",
  "https://tillotson.ie/shop/fs1p-inline-filter/",
  "https://tillotson.ie/shop/go-kart-tillett-p1-defender/",
  "https://tillotson.ie/shop/tillotson-racing-baseball-hat/",
  "https://tillotson.ie/shop/repairkit-rk-21hs/",
  "https://tillotson.ie/shop/rk88hl-repair-kit/",
  "https://tillotson.ie/shop/he19a-carburetor/",
  "https://tillotson.ie/shop/233665p-inlet-parts-kit/",
  "https://tillotson.ie/shop/233709-p/",
  "https://tillotson.ie/shop/tidl-spray/",
  "https://tillotson.ie/shop/tillotson-racing-t-shirt/",
  "https://tillotson.ie/shop/repairkit-rk-27hs/",
  "https://tillotson.ie/shop/dg1hw-diaphragm-gasket-set/",
  "https://tillotson.ie/shop/243504-leak-detector/",
  "https://tillotson.ie/shop/237-162x-hw-fuel-pump-diaphragm/",
  "https://tillotson.ie/shop/dg1hl-diaphragm-gasket-set/",
  "https://tillotson.ie/shop/rk14hu-repair-kit/",
  "https://tillotson.ie/shop/dg1hm-diaphragm-gasket-set/",
  "https://tillotson.ie/shop/24-b323x-inlet-tension-spring-26g-10-pack/",
  "https://tillotson.ie/shop/rk117hl-repair-kit/",
  "https://tillotson.ie/shop/dg3he-diaphragm-gasket-set/",
  "https://tillotson.ie/shop/custom-tillotson-polo-t-shirt-t4nc24/",
  "https://tillotson.ie/shop/sa500-quick-jet-manuel-jet-adjuster/",
  "https://tillotson.ie/shop/69-165-elbow-connector/",
  "https://tillotson.ie/shop/hx10a-carburetor/",
  "https://tillotson.ie/shop/hw10b-avenger-carburetor/",
  "https://tillotson.ie/shop/plant-powered-joint-muscle-cream/",
  "https://tillotson.ie/shop/ow802p-intank-filter/",
  "https://tillotson.ie/shop/rk23hs-repair-kit/",
  "https://tillotson.ie/shop/rk94hl-repair-kit/"
]


    def parse(self, response):
      image_urls = response.css("figure.swiper-slide img.wp-post-image::attr(src)").getall()[1:]

      yield {
            "title": response.css("h1::text").get(),
            "category": ", ".join(filter(lambda x: len(x.strip()) > 1, response.css("span.posted_in ::text").getall()[1:])),
            "price" : float(response.css("p.price > span::text").get().replace(',', '').strip()),
            "description" : "\n ".join(response.css("div#tab-description ::text").extract()),
            "AdditionalInfo":  ", ".join(    filter(lambda x: len(x.strip()) > 1, response.css("span.tagged_as ::text").getall()[1:])),
            "MainImg" : response.css("figure.swiper-slide img.wp-post-image::attr(src)").get(),
             "Page":"tillotson",
            "ProductImages": [
            {"ImageUrl": url} for url in image_urls  # Change here to directly set the URL
        ]
        }
